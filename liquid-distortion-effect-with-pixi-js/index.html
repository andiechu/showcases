<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Liquid Distortion</title>
    
    <link rel="stylesheet" type="text/css" href="css/view.css">
    
</head>

<body>
    <div class="slider-wrapper">
        <div class="slider-item">
            
            <img src="images/water-01.jpg" class="slider-item__image">
            <h1 class="slider-item__title">Starfish</h1>
        </div>
        <div class="slider-item">
            
            <img src="images/water-02.jpg" class="slider-item__image">
            <h1 class="slider-item__title">Clownfish</h1>
        </div>
        <div class="slider-item">
            
            <img src="images/water-03.jpg" class="slider-item__image">
            <h1 class="slider-item__title">Jellyfish</h1>
        </div>
        <div class="slider-item">
            
            <img src="images/water-04.jpg" class="slider-item__image">
            <h1 class="slider-item__title">Oscar Fish</h1>
        </div>
    </div>
    <div class="slider-btns">
        <span class="slider-btn-item active"></span>
        <span class="slider-btn-item"></span>
        <span class="slider-btn-item"></span>
        <span class="slider-btn-item"></span>
    </div>
    
    <div class="nav-btn prev" data-nav="prev">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 492 492" style="enable-background:new 0 0 492 492;" xml:space="preserve">
            <g>
                <path d="M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12
			C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084
			c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864
			l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"/>
            </g>
        </svg>
    </div>
    <div class="nav-btn next" data-nav="next">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 492.004 492.004" style="enable-background:new 0 0 492.004 492.004;" xml:space="preserve">
            <g>
                <path d="M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12
			c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028
			c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265
			c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"/>
            </g>
        </svg>
    </div>
    
    <div class="loader">loading</div>
    
<!--    <script src="js/TweenMax.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
<!--    <script src="js/pixi.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.2/pixi.min.js"></script>
<!--    <script src="js/main.js"></script>-->
    <script src="js/main2.js"></script>
    
    <script>
        // -- GET GOING!

        var spriteImages = document.querySelectorAll(".slider-item__image"); 
        var spriteImageSrc = [];
        var texts = [];

        for (let i = 0; i < spriteImages.length; i++) {
            let img = spriteImages[i];

            if (img.nextElementSibling) {
                texts.push(img.nextElementSibling.innerHTML);
            } else {
                text.push("");
            }

            spriteImageSrc.push(img.getAttribute("src"));
        }
        
//        console.log(spriteImageSrc)
    
        var initCanvasSlideshow = CanvasSlideshow({
            antialias: true,
//            displacementImage: "images/dmaps/512x512/clouds.jpg", 
            displacementImage: "images/dmaps/2048x2048/clouds.jpg", 
            sprites: spriteImageSrc,
            nav: document.querySelectorAll(".nav-btn"),
            slideBtnElement : document.querySelectorAll(".slider-btn-item"),
            loader: document.querySelector(".loader"),
            texts: texts,
            interactive: true, 
            fullScreen: true,
            centerSprites: true, 
//            autoPlaySpeed: [0.4, 0.4],
//            displaceScale: [800, 500],
            autoPlaySpeed: [10, 3],
            displaceScale: [200, 70],
            resolution: window.devicePixelRatio
        });
    </script>
</body>
</html>